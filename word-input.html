<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–ø–∏—Å–∞—Ç—å —Å–ª–æ–≤–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: #f5f5f5;
            padding: 15px;
            max-width: 600px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 8px;
            color: #333;
        }

        .stats {
            font-size: 14px;
            color: #666;
        }

        /* –°–µ–∫—Ü–∏—è –≤–≤–æ–¥–∞ */
        .input-section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .columns-container {
            display: flex;
            gap: 10px;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .column-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .input-row {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .input-row input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s;
        }

        .input-row input:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .input-row.arabic input {
            direction: rtl;
            text-align: right;
            font-family: 'Traditional Arabic', 'Arabic Typesetting', Arial;
        }

        .add-column-btn {
            background: #4CAF50;
            color: white;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 6px;
            font-size: 18px;
            cursor: pointer;
            flex-shrink: 0;
            transition: background 0.2s;
        }

        .add-column-btn:hover {
            background: #45a049;
        }

        .remove-column-btn {
            background: #f44336;
            color: white;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            flex-shrink: 0;
            transition: background 0.2s;
        }

        .remove-column-btn:hover {
            background: #da190b;
        }

        .separator {
            align-self: center;
            font-size: 20px;
            color: #666;
            margin: 0 5px;
        }

        .add-word-btn {
            width: 100%;
            padding: 14px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .add-word-btn:hover:not(:disabled) {
            background: #45a049;
        }

        .add-word-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤ */
        .words-section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .words-section h2 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #333;
        }

        .words-list {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 15px;
        }

        .word-item {
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            transition: background 0.2s;
        }

        .word-item:hover {
            background: #f9f9f9;
        }

        .word-text {
            flex: 1;
            font-size: 16px;
            color: #333;
            word-break: break-word;
            cursor: pointer;
        }

        .word-actions {
            display: flex;
            gap: 5px;
        }

        .edit-btn, .delete-btn {
            background: transparent;
            border: none;
            padding: 6px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }

        .edit-btn {
            color: #2196F3;
        }

        .edit-btn:hover {
            background: #e3f2fd;
        }

        .delete-btn {
            color: #f44336;
        }

        .delete-btn:hover {
            background: #ffebee;
        }

        .actions-buttons {
            display: flex;
            gap: 10px;
        }

        .copy-all-btn, .clear-all-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .copy-all-btn {
            background: #2196F3;
            color: white;
        }

        .copy-all-btn:hover {
            background: #0b7dda;
        }

        .clear-all-btn {
            background: #f44336;
            color: white;
        }

        .clear-all-btn:hover {
            background: #da190b;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 25px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-content h3 {
            margin-bottom: 15px;
            font-size: 20px;
            color: #333;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .modal-buttons button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }

        .save-btn {
            background: #4CAF50;
            color: white;
        }

        .cancel-btn {
            background: #ccc;
            color: #333;
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #4CAF50;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 2000;
            display: none;
            animation: slideDown 0.3s ease;
        }

        .notification.show {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üìù –ó–∞–ø–∏—Å–∞—Ç—å —Å–ª–æ–≤–∞</h1>
        <div class="stats">
            –í—Å–µ–≥–æ —Å–ª–æ–≤: <span id="totalCount">0</span>
        </div>
    </div>

    <div class="input-section">
        <div class="columns-container">
            <div class="column-group" id="russianColumns">
                <div class="input-row">
                    <input type="text" placeholder="–†—É—Å—Å–∫–∏–π" data-lang="ru">
                    <button class="add-column-btn" onclick="addColumn('ru')">+</button>
                </div>
            </div>

            <div class="separator">-</div>

            <div class="column-group" id="arabicColumns">
                <div class="input-row arabic">
                    <input type="text" placeholder="ÿπÿ±ÿ®Ÿä" data-lang="ar">
                    <button class="add-column-btn" onclick="addColumn('ar')">+</button>
                </div>
            </div>
        </div>

        <button class="add-word-btn" id="addWordBtn" onclick="addWord()">
            –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–≤–æ
        </button>
    </div>

    <div class="words-section">
        <h2>üìö –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤</h2>
        <div class="words-list" id="wordsList"></div>
        <div class="actions-buttons">
            <button class="copy-all-btn" onclick="copyAllWords()">
                üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
            </button>
            <button class="clear-all-btn" onclick="clearAllWords()">
                üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="modal" id="editModal">
        <div class="modal-content">
            <h3>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–≤–æ</h3>
            <div id="editColumnsContainer"></div>
            <div class="modal-buttons">
                <button class="save-btn" onclick="saveEdit()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="cancel-btn" onclick="closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        let currentEditIndex = null;

        // –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É
        function addColumn(lang) {
            const container = document.getElementById(lang === 'ru' ? 'russianColumns' : 'arabicColumns');
            const newRow = document.createElement('div');
            newRow.className = 'input-row' + (lang === 'ar' ? ' arabic' : '');
            
            newRow.innerHTML = `
                <input type="text" placeholder="${lang === 'ru' ? '–†—É—Å—Å–∫–∏–π' : 'ÿπÿ±ÿ®Ÿä'}" data-lang="${lang}">
                <button class="remove-column-btn" onclick="removeColumn(this)">‚úï</button>
            `;
            
            container.appendChild(newRow);
            checkForm();
        }

        // –£–¥–∞–ª–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É
        function removeColumn(btn) {
            const row = btn.parentElement;
            const container = row.parentElement;
            
            // –ù–µ –¥–∞–µ–º —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–æ–ª–æ–Ω–∫—É
            if (container.children.length > 1) {
                row.remove();
                checkForm();
            }
        }

        // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∫–æ–ª–æ–Ω–æ–∫
        function getColumnValues(lang) {
            const container = document.getElementById(lang === 'ru' ? 'russianColumns' : 'arabicColumns');
            const inputs = container.querySelectorAll('input');
            return Array.from(inputs)
                .map(input => input.value.trim())
                .filter(value => value !== '');
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã
        function checkForm() {
            const ruValues = getColumnValues('ru');
            const arValues = getColumnValues('ar');
            const btn = document.getElementById('addWordBtn');
            
            // –ú–∏–Ω–∏–º—É–º –æ–¥–Ω–æ —Ä—É—Å—Å–∫–æ–µ –∏ –æ–¥–Ω–æ –∞—Ä–∞–±—Å–∫–æ–µ —Å–ª–æ–≤–æ
            btn.disabled = ruValues.length === 0 || arValues.length === 0;
        }

        // –°–ª—É—à–∞—Ç–µ–ª–∏ –Ω–∞ –≤—Å–µ –∏–Ω–ø—É—Ç—ã
        document.addEventListener('input', (e) => {
            if (e.target.tagName === 'INPUT') {
                checkForm();
            }
        });

        // –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–≤–æ
        function addWord() {
            const ruValues = getColumnValues('ru');
            const arValues = getColumnValues('ar');

            if (ruValues.length === 0 || arValues.length === 0) return;

            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É: "—Ä—É—Å—Å–∫–∏–π, —Ä—É—Å—Å–∫–∏–π - –∞—Ä–∞–±—Å–∫–∏–π - –∞—Ä–∞–±—Å–∫–∏–π"
            const ruPart = ruValues.join(', ');
            const arPart = arValues.join(' - ');
            const wordText = `${ruPart} - ${arPart}`;

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º
            const words = JSON.parse(localStorage.getItem('words') || '[]');
            words.push(wordText);
            localStorage.setItem('words', JSON.stringify(words));

            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
            clearForm();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫
            renderWords();
            
            // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification('‚úì –°–ª–æ–≤–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ');
        }

        // –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
        function clearForm() {
            // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ –∏–Ω–ø—É—Ç—ã
            const ruContainer = document.getElementById('russianColumns');
            const arContainer = document.getElementById('arabicColumns');
            
            while (ruContainer.children.length > 1) {
                ruContainer.removeChild(ruContainer.lastChild);
            }
            while (arContainer.children.length > 1) {
                arContainer.removeChild(arContainer.lastChild);
            }
            
            // –û—á–∏—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
            document.querySelectorAll('input').forEach(input => input.value = '');
            checkForm();
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤
        function renderWords() {
            const wordsList = document.getElementById('wordsList');
            const words = JSON.parse(localStorage.getItem('words') || '[]');
            
            document.getElementById('totalCount').textContent = words.length;

            if (words.length === 0) {
                wordsList.innerHTML = '<div class="empty-state">–ü–æ–∫–∞ –Ω–µ—Ç —Å–ª–æ–≤</div>';
                return;
            }

            wordsList.innerHTML = words.map((word, index) => `
                <div class="word-item">
                    <div class="word-text" onclick="editWord(${index})">${word}</div>
                    <div class="word-actions">
                        <button class="edit-btn" onclick="editWord(${index})">‚úèÔ∏è</button>
                        <button class="delete-btn" onclick="deleteWord(${index})">üóëÔ∏è</button>
                    </div>
                </div>
            `).join('');
        }

        // –£–¥–∞–ª–∏—Ç—å —Å–ª–æ–≤–æ
        function deleteWord(index) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Å–ª–æ–≤–æ?')) return;
            
            const words = JSON.parse(localStorage.getItem('words') || '[]');
            words.splice(index, 1);
            localStorage.setItem('words', JSON.stringify(words));
            renderWords();
            showNotification('üóëÔ∏è –°–ª–æ–≤–æ —É–¥–∞–ª–µ–Ω–æ');
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–≤–æ
        function editWord(index) {
            currentEditIndex = index;
            const words = JSON.parse(localStorage.getItem('words') || '[]');
            const word = words[index];
            
            // –ü–∞—Ä—Å–∏–º —Å–ª–æ–≤–æ –æ–±—Ä–∞—Ç–Ω–æ
            const parts = word.split(' - ');
            const ruParts = parts[0].split(', ');
            const arParts = parts.slice(1);
            
            // –°–æ–∑–¥–∞–µ–º –ø–æ–ª—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            const container = document.getElementById('editColumnsContainer');
            container.innerHTML = '';
            
            // –†—É—Å—Å–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏
            const ruGroup = document.createElement('div');
            ruGroup.style.marginBottom = '15px';
            ruGroup.innerHTML = '<strong>–†—É—Å—Å–∫–∏–π:</strong>';
            ruParts.forEach((val, i) => {
                const input = document.createElement('input');
                input.type = 'text';
                input.value = val;
                input.style.width = '100%';
                input.style.padding = '10px';
                input.style.marginTop = '8px';
                input.style.border = '2px solid #e0e0e0';
                input.style.borderRadius = '8px';
                input.style.fontSize = '16px';
                input.dataset.lang = 'ru';
                ruGroup.appendChild(input);
            });
            container.appendChild(ruGroup);
            
            // –ê—Ä–∞–±—Å–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏
            const arGroup = document.createElement('div');
            arGroup.innerHTML = '<strong>–ê—Ä–∞–±—Å–∫–∏–π:</strong>';
            arParts.forEach((val, i) => {
                const input = document.createElement('input');
                input.type = 'text';
                input.value = val;
                input.style.width = '100%';
                input.style.padding = '10px';
                input.style.marginTop = '8px';
                input.style.border = '2px solid #e0e0e0';
                input.style.borderRadius = '8px';
                input.style.fontSize = '16px';
                input.style.direction = 'rtl';
                input.style.textAlign = 'right';
                input.dataset.lang = 'ar';
                arGroup.appendChild(input);
            });
            container.appendChild(arGroup);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.getElementById('editModal').classList.add('show');
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
        function saveEdit() {
            const container = document.getElementById('editColumnsContainer');
            const ruInputs = Array.from(container.querySelectorAll('input[data-lang="ru"]'));
            const arInputs = Array.from(container.querySelectorAll('input[data-lang="ar"]'));
            
            const ruValues = ruInputs.map(i => i.value.trim()).filter(v => v !== '');
            const arValues = arInputs.map(i => i.value.trim()).filter(v => v !== '');
            
            if (ruValues.length === 0 || arValues.length === 0) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Ä—É—Å—Å–∫–æ–µ –∏ –æ–¥–Ω–æ –∞—Ä–∞–±—Å–∫–æ–µ –ø–æ–ª–µ');
                return;
            }
            
            const ruPart = ruValues.join(', ');
            const arPart = arValues.join(' - ');
            const wordText = `${ruPart} - ${arPart}`;
            
            const words = JSON.parse(localStorage.getItem('words') || '[]');
            words[currentEditIndex] = wordText;
            localStorage.setItem('words', JSON.stringify(words));
            
            closeEditModal();
            renderWords();
            showNotification('‚úì –°–ª–æ–≤–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ');
        }

        // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        function closeEditModal() {
            document.getElementById('editModal').classList.remove('show');
            currentEditIndex = null;
        }

        // –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–ª–æ–≤–∞
        function copyAllWords() {
            const words = JSON.parse(localStorage.getItem('words') || '[]');
            
            if (words.length === 0) {
                showNotification('‚ö†Ô∏è –ù–µ—Ç —Å–ª–æ–≤ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è');
                return;
            }
            
            const text = words.join('\n');
            
            // –ö–æ–ø–∏—Ä—É–µ–º –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
                });
            } else {
                // Fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showNotification('üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
            }
        }

        // –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Å–ª–æ–≤–∞
        function clearAllWords() {
            const words = JSON.parse(localStorage.getItem('words') || '[]');
            
            if (words.length === 0) {
                showNotification('‚ö†Ô∏è –°–ø–∏—Å–æ–∫ —É–∂–µ –ø—É—Å—Ç');
                return;
            }
            
            if (!confirm(`–£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–ª–æ–≤–∞ (${words.length} —à—Ç.)? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.`)) {
                return;
            }
            
            localStorage.removeItem('words');
            renderWords();
            showNotification('üóëÔ∏è –°–ø–∏—Å–æ–∫ –æ—á–∏—â–µ–Ω');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –µ–≥–æ
        document.getElementById('editModal').addEventListener('click', (e) => {
            if (e.target.id === 'editModal') {
                closeEditModal();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        renderWords();
        checkForm();
    </script>
</body>
</html>
